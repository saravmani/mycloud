
---------- Forwarded message ----------
From: sirisha p <psirisha1592@gmail.com>
Date: Thu, Feb 15, 2018 at 8:17 AM
Subject: create-project.html
To: winners.mani@gmail.com


<app-error id="initError" [hidden]="!formInitError"></app-error>

<div #formContent [hidden]="formInitError">
    <form [formGroup]="projSetupForm" >
            <div>
            <div class="col-md-6 m-top-15">
                <div class="form-group">
                    <ng-template #rt let-r="result" let-t="term">
                        <div style="padding: 2px 10px;">
                            <kpmg-ui-highlight [result]="r.clientName" [term]="t"></kpmg-ui-highlight>
                        </div>
                    </ng-template>
                    <label for="input-client-search">
                        Client *
                        <span *ngIf="searching"><img src="img/loader.gif" height="18" align="absmiddle" /></span>
                        <span *ngIf="searchFailed">Sorry, suggestions could not be loaded.</span>
                    </label>
                    <input id="cptxtClient" class="form-control" type="text" title="Search clients"
                            placeholder="Search Clients"
                            formControlName="client"
                            [kpmgUiTypeahead]="clientSearchStream"
                            [inputFormatter]="clientNameFormatter"
                            [resultTemplate]="rt"
                            [editable]="false"
                            (selectItem)="onClientSelected($event)"
                            (focus)="editingClientName(true)"
                            (focusout)="editingClientName(false)"
                            no-special-chars="#!$@%^<>" />
                    <div class="form-field-validation" id="clientReqError"
                            *ngIf="!projSetupForm.controls['client'].pristine && !isEditingClientName && projSetupForm.controls['client'].hasError('required')">
                        <i class="ion-alert-circled"></i>Client is required
                    </div>
                </div>

                    <div id="divProjTypes" class="col-md-6 m-top-15" style="padding-left:0">
                        <div class="form-group">
                            <label for="ProjTypes">Project Type *</label>
                            <select id="ddProjTypes" class="btn btn-default" style="width: 100%"
                                    formControlName="projectType"
                                    (change)="projectTypeChanged()">
                                <option *ngFor="let projType of projectTypes" [value]="projType.projectTypeId">{{projType.projectTypeDesc}}</option>
                            </select>
                            <div class="form-field-validation" id="projTypeInvalidIdError"
                                 *ngIf="!projSetupForm.controls['projectType'].pristine && projSetupForm.controls['projectType'].hasError('invalidId')&& projSetupForm.controls['projectType'].hasError('required')">
                                <i class="ion-alert-circled"></i> Project Type is required
                            </div>
                        </div>
                    </div>

                <div div="divProjPeriods" class="col-md-6 m-top-15" style="padding-left:15px;left:10px;">
                    <div class="form-group">
                        <label for="periodId">Period *</label>
                        <select id="Period" class="btn btn-default" style="width: 100%"
                                formControlName="period"
                                (change)="setProjectName()">
                            <option *ngFor="let period of periodData" [value]="period.projectPeriodId">{{period.projectPeriodDesc}}</option>
                        </select>
                        <div class="form-field-validation" id="periodInvalidIdError"
                                *ngIf="!projSetupForm.controls['period'].pristine && projSetupForm.controls['period'].hasError('invalidId')">
                            <i class="ion-alert-circled"></i> Period is required
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="projName"> Project Name *</label>
                    <input id="ddProjName" class="form-control" style="width: 100%" type="text"
                            formControlName="projectName" 
                            (input)="checkManualProjNameChange()"
                            no-special-chars="#!$@%^<>"/>
                    <div class="form-field-validation" id="projNameReqError"
                            *ngIf="!projSetupForm.controls['projectName'].pristine && projSetupForm.controls['projectName'].hasError('required')">
                        <i class="ion-alert-circled"></i> Project Name is required
                    </div>
                    <div class="form-field-validation" id="projNameMaxLenError"
                            *ngIf="!projSetupForm.controls['projectName'].pristine && projSetupForm.controls['projectName'].hasError('maxlength')">
                        <i class="ion-alert-circled"></i> Project Name cannot contain more than 100 characters
                    </div>
                </div>

                <div class="form-group">
                    <label for="OppId">Opportunity ID(s)</label>
                    <div class="row">
                        <div class="col-md-10">
                            <input id="txtOppId" class="form-control" style="width: 100%" type="text" formControlName="opportunityId"
                                   no-special-chars="#!$@%^<>" />
                        </div>
                        <div class="col-md-2">
                            <button id="btnAddOppId" class="btn btn-primary" 
                                    [disabled]="projSetupForm.controls['opportunityId'].pristine || projSetupForm.controls['opportunityId'].hasError('allWhitespace')" (click)="addOppurtunityIds()">Add</button>
                        </div> 
                    </div>                                               
                    <div class="form-field-validation" id="oppIdMaxLenError"
                            *ngIf="!projSetupForm.controls['opportunityId'].pristine && projSetupForm.controls['opportunityId'].hasError('maxlength')">
                        <i class="ion-alert-circled"></i> Opporuntiy ID cannot contain more than 50 characters
                    </div>
                    <div *ngIf="opportunityIds.length > 0" id="divOppIds">
                        <div *ngFor="let opportunityId of opportunityIds; let i = index" class="row">
                            <div class="col-md-10" id="divOppId{{i}}">{{opportunityId.id}}</div>
                            <div class="col-md-2"><button id="btnRemOppId{{i}}" class="btn btn-primary" (click)="removeOppurtunityIds(opportunityId.xrefId)">
                                                        Remove</button></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 m-top-15">
                <div class="form-group">
                    <label for="TaxYears"> Year *</label>
                    <select id="ddTaxYears" class="btn btn-default" style= "width: 100%"
                            formControlName="taxYear"
                            (change)="setProjectName()" >
                    <option *ngFor="let year of taxYears" [value]="year.id">{{year.description}}</option>>
                    </select>
                    <div class="form-field-validation" id="taxyearinvalididerror"
                            *ngIf="!projSetupForm.controls['taxYear'].pristine && projSetupForm.controls['taxYear'].hasError('invalidId')&& projSetupForm.controls['taxYear'].hasError('required')">
                        <i class="ion-alert-circled"></i> Tax year is required
                    </div>
                        
                </div>

                <div class="col-md-12 m-top-15" style="padding-left:0">
                    <div class="col-md-4" style="padding-left:0">
                        <div class="form-group">
                            <label for="ddBeginDate">Beginning Date *</label>
                            <div class="input-group">
                                <input id="dtTaxYearBegin" class="form-control"
                                        formControlName="beginDate"
                                        #dtTaxYearBegin
                                        bsDatepicker
                                        [maxDate]="maxTaxYearBegin"
                                        [bsConfig]="{showWeekNumbers: false}" />
                                <div id="btnManInpTaxYearBeginOpenCal" type="button" class="input-group-addon" (click)="dtTaxYearBegin.toggle()"><i class="glyphicon glyphicon-calendar"></i></div>
                            </div>
                            <div class="form-field-validation" id="beginDateReqError"
                                    *ngIf="!projSetupForm.controls['beginDate'].pristine && projSetupForm.controls['beginDate'].hasError('required')">
                                <i class="ion-alert-circled"></i>Beginning Date is required.
                            </div>
                        </div>
                        </div>
                   
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="ddEndDate">End Date *</label>
                            <div class="input-group">
                                <input id="dtTaxYearEnd" class="form-control"
                                        formControlName="endDate"
                                        #dtTaxYearEnd
                                        bsDatepicker
                                        [minDate]="minTaxYearEnd"
                                        [bsConfig]="{showWeekNumbers: false}"                                        
                                        (keyup)="setProjectName()" />
                                <div id="btnManInpTaxYearEndOpenCal" type="button" class="input-group-addon" (click)="dtTaxYearEnd.toggle()"><i class="glyphicon glyphicon-calendar"></i></div>
                            </div>
                            <div class="form-field-validation" id="endDateReqError"
                                    *ngIf="!projSetupForm.controls['endDate'].pristine && projSetupForm.controls['endDate'].hasError('required')">
                                <i class="ion-alert-circled"></i>End Date is required.
                            </div>
                        </div>
                        </div>
                       
                    <div class="form-field-validation" id="taxYearDatesInvalidError"
                                *ngIf="projSetupForm.hasError('tyDatesInvalid')">
                            <i class="ion-alert-circled"></i>Tax Year Begin cannot start after Tax Year End.
                        </div>
                        
                    <div class="col-md-4  m-top-15" style="padding-left:15px;left:10px;">
                        <div class="form-group">
                            <div>
                                <label class="checkbox-inline"><input id="cbxIs5253" type="checkbox" formControlName="is5253" (change)="is5253Changed()">52/53</label><br>
                                <label class="checkbox-inline"><input id="cbxIsShortYear" type="checkbox" formControlName="isShortYear">Short Year</label>
                            </div>
                        </div>
                        </div>

                </div>

                <div class="col-md-12" style="padding-left:0">
                    <div class="row" *ngIf="projSetupForm.controls['is5253'].value === true">
                        <div class="col-md-6 form-group">
                            <label>52/53 Rule</label>
                            <select id="cbo5253Rule" class="form-control" formControlName="rule5253">
                                <option value=""></option>
                                <option *ngFor="let rollOver of rolloverData" [value]="rollOver.code">{{ rollOver.desc }}</option>
                            </select>
                        </div>
                        <div class="col-md-6 form-group">
                            <label>52/53 Day</label>
                            <select id="cbo5253Day" class="form-control" formControlName="day5253">
                                <option value=""></option>
                                <option *ngFor="let day of _day5253Lookup; let i = index" [value]="i">{{ day }}</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="EngNbr">Engagement Number(s)</label>
                    <div class="row">
                        <div class="col-md-10">
                            <input id="txtEngNbr" class="form-control" style="width: 90%" type="text" formControlName="engagementNumber" 
                                   no-special-chars="#!$@%^<>"/>
                        </div>
                        <div class="col-md-2">
                            <button id="btnAddEngNbr" class="btn btn-primary" 
                                    [disabled]="projSetupForm.controls['engagementNumber'].pristine || projSetupForm.controls['engagementNumber'].hasError('allWhitespace')" (click)="addEngagementNbr()">Add</button>
                        </div>
                    </div>                        
                        
                    <div class="form-field-validation" id="engNumberMaxLenError"
                            *ngIf="!projSetupForm.controls['engagementNumber'].pristine && projSetupForm.controls['engagementNumber'].hasError('maxlength')">
                        <i class="ion-alert-circled"></i> Engagement Number cannot contain more than 50 characters
                    </div>
                    <div *ngIf="engagementNbrs.length > 0" class="row" id="divEngNbrs">
                        <div *ngFor="let engagementNbr of engagementNbrs; let i = index">
                            <div class="col-md-10" id="divEngNbr{{i}}">{{engagementNbr.id}}</div>
                            <div class="col-md-2"><button id="btnRemEngNbr{{i}}" class="btn btn-primary" (click)="removeEngagementNbr(engagementNbr.xrefId)">
                                                        Remove</button></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 m-bottom-15 text-center" style="border-top: 3px solid rgba(255,255,255,0.25)">
                <button id="btnSaveProj" type="submit" class="btn btn-primary" style="text-align: center; width: 20%; vertical-align: bottom; margin-top: 15px; float:right"
                        [disabled]="isFormDisabled()" (click)="saveProject()">
                    {{buttonText}}
                </button>
            </div>
            </div>
    </form>
</div>
Thanks and Regards

Sirisha Pogaku
937-815-8081




-- 


By,
N.SaravanaManikandan